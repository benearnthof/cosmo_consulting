<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Construct a neighbour-matrix from a 'graph'</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for graph2matrix {INLA}"><tr><td>graph2matrix {INLA}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Construct a neighbour-matrix from a <code>graph</code></h2>

<h3>Description</h3>

<p>Construct a neighbour-matrix from a <code>graph</code> and disaply it</p>


<h3>Usage</h3>

<pre>
    inla.graph2matrix(graph, ...)
    inla.spy(graph, ..., reordering = NULL, factor = 1.0, max.dim = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>An <code>inla.graph</code>-object, a (sparse) symmetric matrix, a filename containing the graph,
or a list or collection of characters and/or numbers defining the graph.</p>
</td></tr>
<tr valign="top"><td><code>reordering</code></td>
<td>
<p>A possible reordering. Typical the one obtained from a <code>inla</code>-call,  <code>result$misc$reordering</code>,
or the result of <code>inla.qreordering</code>.</p>
</td></tr>
<tr valign="top"><td><code>factor</code></td>
<td>
<p>A scaling of the <code>inla.graph</code>-object to reduce the size.</p>
</td></tr>
<tr valign="top"><td><code>max.dim</code></td>
<td>
<p>Maximum dimension of the <code>inla.graph</code>-object plotted;
if <code>missing(factor)</code> and <code>max.dim</code> is set,  then <code>factor</code>
is computed automatically to give the given <code>max.dim</code>.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Additional arguments to <code>inla.read.graph()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>inla.graph2matrix</code> returns a sparse symmetric matrix where the non-zero pattern is defined by the <code>graph</code>.
The <code>inla.spy</code> function, plots a binary image of a <code>graph</code>. The <code>reordering</code> argument
is typically the reordering used by <code>inla</code>, found in <code>result$misc$reordering</code>.
</p>


<h3>Author(s)</h3>

<p>Havard Rue <a href="mailto:hrue@r-inla.org">hrue@r-inla.org</a></p>


<h3>See Also</h3>

<p><code><a href="../../INLA/help/inla.read.graph.html">inla.read.graph</a></code>, <code>inla.qreordering</code>
</p>


<h3>Examples</h3>

<pre>
n = 50
Q = matrix(0, n, n)
idx = sample(1:n, 2*n, replace=TRUE)
Q[idx, idx] = 1
diag(Q) = 1
g = inla.read.graph(Q)
QQ = inla.graph2matrix(g)
inla.spy(QQ)
print(all.equal(as.matrix(Q), as.matrix(QQ)))

g.file = inla.write.graph(g)
inla.dev.new()
inla.spy(g.file)
inla.spy(g.file,  reordering = inla.qreordering(g))

g = inla.read.graph(g.file)
inla.dev.new()
inla.spy(g)

inla.dev.new()
inla.spy(3, 1, "1 2 2 1 1 3 0")
inla.dev.new()
inla.spy(3, 1, "1 2 2 1 1 3 0", reordering = 3:1)
</pre>

<hr /><div style="text-align: center;">[Package <em>INLA</em> version 22.02.16-2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
